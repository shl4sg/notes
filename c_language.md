#### 1、结构体对齐

规则：

1、第一个成员起始地址为0。

2、其他成员变量要对齐到对齐数的整数倍的地址处。对齐数 = min（编译器默认的对齐数，该成员大小）。vs中默认值是8 Linux默认值为4.

3、结构体总大小为最大对齐数的整数倍。（每个成员变量都有自己的对齐数）

4、如果嵌套结构体，嵌套的结构体对齐到自己的最大对齐数的整数倍处，结构体的整体大小就是所有最大对齐数（包含嵌套结构体的对齐数）的整数倍。

#### 2、指针大小

同int大小，32-4,64-8。

#### 3、函数指针

int(*p)(int, int);

定义了一个指针变量存放一个函数的地址。指针的值是该函数机器代码表示中第一条指令的地址。

#### 4、链接

链接是将各种代码和数据片段收集并组合成一个单一文件的过程，这个文件可被家在到内存执行。

#### 5、编译

1、预处理，处理一些#号定义的命令或语句（如宏、#include、预编译指令#ifdef等），生成\*.i文件；2、编译，这个过程主要是进行词法分析、语法分析和语义分析等，生成\*.s的汇编文件；3、最后进行汇编，就是将对应的汇编指令翻译成机器指令，生成可重定位的二进制目标文件。

gcc： -s编译，-c编译并汇编，

#### 6、静态链接和动态链接

两者最大的区别就在于链接的时机不一样，静态链接是在形成可执行程序前，而动态链接的进行则是在程序执行时。

静态链接

静态库也可以简单地看成是一组目标文件的集合。 

静态链接的缺点。浪费空间，每个可执行程序中对所有需要的目标文件都要有一份副本，如果多个程序对同一个目标文件都有依赖，则这个目标文件在内存会存在多个副本；更新困难，因为每当库函数的代码修改了，这个时候就需要重新进行编译链接形成可执行程序。但是静态链接的优点就是在执行的时候运行速度快。

动态链接

把程序按照模块拆分成各个相对独立部分，在程序运行时才将它们链接在一起形成一个完整的程序，而不是像静态链接一样把所有程序模块都链接成一个单独的可执行文件。

 动态链接的优点。即使多个程序都依赖同一个库，但是该库不会像静态链接那样在内存中存在多个副本，而是这多个程序在执行时共享同一份副本；更新比较方便，更新时只需要替换原来的目标文件，而无需将所有的程序再重新链接一遍。缺点。因为把链接推迟到了程序运行时，所以每次执行程序都需要进行链接，性能会有一定损失。    